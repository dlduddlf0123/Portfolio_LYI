VisionOS Headers Simulation game 개발노트

# 개발 목표
9월 3~12일 중간평가 까지 맵 위치 및 캐릭터 손으로 올리기 + 배경과 상호작용   
24년 11월까지 개발 완료 및 출시

- VisionOS
- 캐릭터
- 시스템
- UI

# Vision OS 제한사항
- SkinnedMeshRenderer FBX - Rig - Optimize Game Objects 체크 해제
- 본 구조 상 연결 안된 빈 오브젝트 금지
- 셰이더그래프 외 셰이더 금지
- 포스트프로세스 금지
- URP, 기본 렌더파이프라인 지원
- LOD 사용 금지

# 진행 목표
- 배경 구성
	- MR에서 맵 위치, 변경 기능
	- 설정 시 위치 기억, 다음부턴 자동으로
	- 시작 시 바닥에서 배경이 올라오는 효과 뾱뾱

- 손
	- 핸드트래킹 제스쳐 구현 적용
	- XR Hands 써서 보이기? 혹은 스탠실 버퍼 사용하여 보이게 하기

- 캐릭터
	- 기본 이동 AI 제작
	- 각종 상태에 따른 AI 변경 구조

	- 손 상호작용에 따른 반응
	- 만질 때 주변 메시가 따라 움직여서 만져지는 느낌 만들기

	- 각종 도구에 대한 반응

- UI
	- 왼손을 펴서 위로 향하면 UI 보이게 하기?

Gestures
Pinch to Character: Select Character
Putting Your Hands on the Floor: Calling Selected Character
Pointing: Stabbing the Character
Fist: Hitting the Character

Mini game
Thumb up to left: Move left
Thumb up to right: Move right
Thumb up: Jump

# V0.0.4 v4 /241209~ 241210/
- 결과발표 제출 버전
- 미니게임 추가
- 날씨 장면 추가


## 241210
- 날씨 효과 추가
- 날씨 타임라인 추가

- 똥, 중지, 약속 등 수치 관련 수정
- 눈 안보이는 오류 수정
	- 자고 일어날 때, 눈알 Scale값 변동으로 생김
- 무한루프 발생 버그 추적
	- 똥 문제로 보임
- 똥 버그 수정
- 약속 + 소환효과 테스트
	- 약속 효과 수정, 호감도 상승 추가

## 241209
- 미니게임 제작
	- 미니게임 메뉴 제작
	- 오브젝트 풀링 관련 변경
	- 미니게임용 캐릭터 제작, 입력 추가
	- 미니게임 시작, 종료 처리 추가
- 인벤토리 정리
	- 사용하지 않는 인벤토리 3종 제거
	- 시작 시 인벤토리 채우기 추가
- 입력 부분 교체
- 왼손 오른손 제스쳐 방향 맞추기

# V0.0.3 v3 /240913~ 241204/
- 맵 위치시키기
- 캐릭터 스탯 UI 제작
- 쓰다듬기 효과 변경
- 먹이주기 제작
- 인벤토리 제작

## 241204
- 6마리 애니 적용
- 6마리 플레이 테스트
- 미니게임 개발


## 241203
- 침대, 잠 관련 코드 추가
- 패키지 파일로 옮겨서 플레이 테스트
- 스펀지 동작 수정
- 제스쳐 적용 테스트
	- 포인트 잘됨
	- 주먹 컬리더 필요
	- 중지 올리기 설정 수정
	- 약속 체크 필요

## 241202
- 플레이테스트, 오류 수정
- 제스쳐 추가
- DevOps 추가 결제
- 잠자기용 침대 설정 추가


## 241201
- 로고 적용, 빌드 오류 수정, Archive 진행, 스토어 등록정보 작성, 스크린샷 필요

## 241126
- 똥 동작 확인
- 스폰지 모델 변경
- 스테이터스 변경
	- 걷기. 달리기 관련 스탯 반응 추가
	- 청결 관련 스탯 처리 추가
	- 질병 관련 스탯 확률 처리 추가

- 로고 변경, 마켓 테스트
- 손과 스펀지 터치 반응 구분
- 손 모양에 따른 터치 반응 구분 추가
- 질병과 주사 처리 관련 작업 진행
- 미니게임, 주사기 에셋 추가


## 241125
- 캐릭터 애니 관련 수정
- 지형 배치 관련 추가
- 배경 디자인 수정
- 똥 추가
- 똥과 청결 관련 스탯 정리


## 241118
- 도잉, 테나 캐릭터 세팅 완료
- 6마리 캐릭터 AI 체크, RVO 네비게이션 회피 추가
- 선택 파티클 추가
- 캐릭터 선택 기능 추가
- 호버 이펙트 추가
	- 호버 관련 컬리더, 바디컬리더 변경
- 터치 레이어 설정 변경, 컬리더들 레이어 변경
- 컬리더 활성화 변경

- 왼손 UI 버그 해결
	- 시작 시 오브젝트 비활성화라서 버그

## 241115
코코, 우다다 캐릭터 세팅 완료

## 241113
- 스펀지 관련 처리 변경
- 과일 처리 변경
- 파티클 추가


## 241111
- Zino 캐릭터 추가
	- 애니메이션 적용, 애니메이터 수정
	- 캐릭터 눈 수정
	- 플레이 테스트

## 241105
- 상태에 따른 변화 연출 추가
	- 상태 표시 파티클 추가

## 241104
- Status 관련 코드 수정
	- Level 관리 코드 추가
	- UI 변화 변경
	- MMP 수치 수정

- 플레이 테스트, 작동 확인
	- HandUI 오류 관련 예외처리 추가

- 캐릭터 눈꺼풀 추가
- 스탯 상태에 따른 눈꺼풀, 눈모양 변경 추가

## 241101
- Status 관련 코드 수정
	- 청결 관련 내부 스탯, 상호작용 작업

## 241031
- Status 관련 코드 수정
- 호감도 단계 변경 코드 추가
- 캐릭터 호감도 게이지 추가
- 게이지 관련 구조 변경

## 241030
- HandCollider_Ground 관련 코드 수정
- Status 관련 코드 수정
	- 호감도 단계에 따른 변화 추가
	- 호감도 단계 변경 코드 추가


## 241029
- 인터렉터 관련 이벤트 추가
- 스펀지 그랩 관련 이벤트 추가
- 플레이테스트
	- 손 쓰다듬기 관련 해제 안되는 경우 발생, 지속적인 체크 필요
		- OnStay 변수 체크 추가
		- Petting에서 컬리더 체크 추가
	- 파티클 보이긴 하는데 방울이 이상하게 보임
		- Bake Mesh 테스트, 머테리얼 변경
		- 작동 확인
	- 슬롯 초기화 시 회전 문제
		- InventoryDisplay의 DrawSlot()부분 수정
		- 작동 확인
	- 손 동작 관련 올라타기 컬리더 문제
	- 생성될 때 약간의 xy랜덤?
	- 스탯 관련 변경
	- 손 접혔을 때 해당 손 컬리더 비활성화
		- 손가락 상태 업데이트 추가
		- 손가락 상태 Position-> rotation 기반으로 변경
		- 작동 확인

## 241028
- 인벤토리 획득 기능 추가
- 스펀지 추가
	- 세척 기능 스펀지로 통합
	- 방울 파티클 제작
	- 내부 손 관련 처리 변경, 동작에 따른 컬리더 활성화 여부 변경
	- 생성, 제거 관련 처리 추가


## 241025
- 인벤토리 제작
	- 기능 테스트
	- UI 슬롯 표시 설정
	- 버튼 기능 적용, 스폰 확인


## 241024
- 인벤토리 제작
	- 인벤토리 구조 적용	
	- 슬롯 구조 교체
	- 아이템 적용
- 빌드 테스트

## 241023
- 인벤토리 구상
	- 인벤토리 구조 구성
	- 아이템 활용방안 구성
- 인벤토리 제작
	- 각 카테고리별 인벤토리 구성
	- 아이템 예시 제작
	- UI 수정 준비

## 241022
- 먹이 추가
	- 음식 에셋 추가
	- 먹이 프리팹 추가
	- 먹기 동작 관련 충돌 처리, 애니메이션 추가
	- 먹이 취향 추가
	- 먹이 취향에 따른 스탯 변화 추가
	- 먹이 취향에 따른 애니메이션, 변화 추가

- 인벤토리 구상, 인벤토리 엔진 추가

## 241016
- 쓰다듬기 오류 수정
	- 쓰다듬을 때 Animator off해서 움직이도록 변경
	- 앞뒤 전환 부분 처리 추가

## 241014
- 캐릭터 쓰다듬기 오류 수정
	- 상위 트랜스폼+현재위치로 시작위치 조정
	- 복귀는 local로 변경
- 새 애니 적용


## 241011
- 캐릭터 쓰다듬기 오류 수정
	- Character Petting 스크립트 분리
	- 배열 형태로 구조 수정
- 배 쓰다듬기 추가
	- 친밀도가 친밀 이상일 때
	- 쓰다듬기를 2번 진행하면 배 보여주기?


## 241010
- 캐릭터 쓰다듬기 효과 적용
- 원본 캐릭터에 적용 가능하도록 코드 변경
- 포지션 작동방식 변경, 거리 기반 한계 추가
- 작동 확인, 적용 부분에 문제 있음, 시작 벡터 문제
- 컬리더 터치 교체될 때 역시 문제

## 241008
- 캐릭터 만질 때 쓰다듬어지는 효과 테스트 추가

## 241007
- 스탯 변화, UI 연동
- 이름 변화 추가
- 터치에 반응하도록 연결, 작동 확인


## 241004
- MMProgressBar 적용, 스탯 바 제작


## 240913
- MRManager 추가, 게임매니저에서 기능이관, VisionPro 관련 코드들 관리
- 맵 더미 제작
- 지형 생성 관리 추가
- 손 터치로 위치 생성 추가



# V0.0.2 v2 /240829~ 240910/
- 중간 평가 버전
- 캐릭터 손 위로 올리기
- 캐릭터 애니메이션, 터치 동작
- 손 보이게 하기


## 240910

- 중간 평가

- 손 동작 관련 변경
	- 제스쳐 동작 연결 부위 변경
	- UI 손 관절 부분 바라보도록 변경
	- 캐릭터 Fall에서 로테이션 리셋 추가

- 캐릭터 동작 변경
	- 탑승, 내리기 관련 변경
	- Stop() 재정의, 매니저에서 전체 정지 추가

## 240909

- UI 디자인 변경
	- UnityEngine.XR 이용 디바이스 포지션, 로테이션 추적 테스트(UI에 사용, 이후 캐릭터도?)
	
- 핸드 디버그 추가
	- 동작 데드존 변경으로 인식률 향상 - 충분히 좋음
	- 손바닥으로 달려올 때 터치 무시  혹은 제스처에 따라 컬리더 제어 - 컬리더 제어 추가

- 맵 디자인 변경
	- Asure네이쳐와 에셋 1종 추가
	- 지원 안되는 Material -> Lit으로 교체, 안되는건 삭제

- 앱 빌드 테스트

## 240906
- 캐릭터 Status 정리
	- Status 변화 관련 코드 추가
	- 터치 시 변화하도록 추가

- 그랩 관련 추가
	- XR Interaction 이용해서 구성 테스트
	- 그랩 동작 확인


## 240905

- 캐릭터 쓰다듬기용 TouchCollider 추가
	- 터치 반응 애니 추가
	- TouchColliderManager 추가, 컬리더 관리
		- 클립 시간에 따라 컬리더 비활성화 되는 기능 추가

- 손 관련 동작 추가
	- 각 손가락에 Interactor 추가, 컬리더 추가
	- 손바닥에도 터치용 컬리더 추가
	- 손 머테리얼 변경(안보여서 취소)
	- 그랩 테스트

- UI 회전 추가, 알파값 추가


## 240904

- UI 추가
	- 손 위치에 올렸을 때 등장할 UI 추가
- 캐릭터 내리기 기능 추가
	- fall 로 떨어트리기
		- 주먹, 손바닥 동작 추가
	- Land로 내리기
		- 손에서 땅으로 점프해서 내리기


## 240903

- 시스템 구조 변경
	- Character LifeManager가 관리하도록 변경
	- VisionInputManager - XRHandGestureInput - Gesture 구조
	- StaticHandGesture - HeadersStaticHandGesuture로 변경, UI 관련 기능 제거
	- LifeManager가 캐릭터 목록 관리, 현재 캐릭터 홀드, 추후 레이스로 진행 시 현재 캐릭터로 보낸다

- 캐릭터 변경
	- GestureChecker 추가, 위의 XRHandGestureInput에서 판단한 뒤 캐릭터 동작 호출
	- Movement: Jump 기능 추가, 기존 FingFing에서 사용된 점프 재사용(Translate 기반 점프)


- 손 관련 변경
	- 손 판정용 컬리더 추가
	- 캐릭터 고정용 앵커 추가
  
 - 플레이 테스트 진행


## 240902
- 손 위에 캐릭터 놓기
 - Hands, World 보이게 하도록 명령 추가
 - 손 컬리더 적용
 - 손 관리 스크립트 추가
 - 명령 반응 추가
- XRInteractionToolkit 3.0.5 추가, 분석
- 새 템플릿 분석


## 240830
XRHands 테스트  
AROcclusion 셰이더로 유사 스탠실 작동 확인  
손 추적으로 인해   

투명 맵 적용 가능 확인  
그림자 테스트 할 것  
맵 위치 정렬  

UI는 작동 됨, 강제로 움직이면 안되는 것으로 보임 

애니 정상 작동 확인

손 관련 구조 제작


## 240829
칸토 눈 수정 적용

# V0.0.1 v1 /240805 ~ 240822/
- 최초 프로젝트 세팅
- 기본 비전프로 연동
- 캐릭터 이동 등 간단한 동작 구현 확인
- 테크데모

## 240822
핸드트래킹 관련 코드 추가  
디버그 창 추가  
시스템 관련 코드 추가 및 수정  



## 240821
캐릭터 눈 관련 테스트

## 240819
Vision Pro 기기 빌드 테스트  
Always Animate로 빌드 시 움직이지 않던 문제 수정, 플레이 시와 같은 애니 오류 확인

## 240808
클릭 기능 추가, UI 상호작용 추가  
그림자 관련 코드 추가

## 240807
간단한 배경 + UI 적용  
클릭 기능 테스트

Debug 용어 정리

텍스트메시프로 추가

캐릭터 이동 관련 수정

애니메이션 관련 문제 확인, 관련 테스트 진행

3D 말풍선 추가

텐트, UI 에셋 추가  
간단한 배경과 UI 상호작용 제작

셰이더 그래프 외 셰이더 사용 불가


## 240806
캐릭터 AI 적용, 작동 확인

프로젝트 서버로 이동

Window 환경에서 복구 및 작동 확인

맥에서 서버 버전 작동 확인


## 240805
프로젝트 다시 세팅

캐릭터 AI 구조 디자인

- Unity Zenject, Command 패턴?
- 우선 기존 AI 포팅



